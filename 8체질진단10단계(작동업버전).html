<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>동남한의원 8체질 진단</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap');
        :root {
            --primary-color: #3b82f6; 
            --secondary-color: #10b981; 
        }
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f3f4f6; 
            min-height: 100vh; 
        }
        .progress-bar {
            height: 8px;
            background-color: #d1d5db; 
            border-radius: 9999px;
            overflow: hidden;
        }
        .progress-indicator {
            height: 100%;
            background-color: var(--secondary-color);
            transition: width 0.5s ease-in-out;
            border-radius: 9999px;
        }
        .content-text p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }
    </style>
</head>
<body>

    <div class="diagnosis-container max-w-lg mx-auto p-4 sm:p-6 md:p-8 flex flex-col justify-center min-h-screen">
        <header class="text-center mb-6 pt-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">동남한의원 8체질 진단</h1>
            <p class="text-lg text-gray-600">간단한 문진을 통해 체질을 파악해 보세요.</p>
        </header>

        <div class="mb-8">
            <p id="progress-text" class="text-sm text-gray-500 mb-2 text-center">진단 준비 중...</p>
            <div class="progress-bar">
                <div id="progress-indicator" class="progress-indicator w-0"></div>
            </div>
        </div>

        <main id="main-content" class="bg-white p-6 rounded-xl shadow-2xl border border-gray-100 min-h-[300px]">
            <div class="flex justify-center items-center h-full text-gray-400">
                <p>잠시만 기다려주세요...</p>
            </div>
        </main>
    </div>

    <script>
        // --- 1. 데이터 및 설정 ---
        let currentPage = 1;
        const totalPages = 14; 
        
        // 사용자 입력 데이터
        const diagnosisData = {
            height: null, weight: null, age: null, gender: null,
            sweat: [], sweatFeeling: [], sweetFood: [], footSize: [], beef: [], redBeansStickyRice: [], mackerel: [], indigestion: []
        };

        // 질문 데이터 모음
        const QUESTION_DATA = {
            2: {
                key: 'sweat',
                question: '평상시 몸에 땀이 어느 정도 나는 편인가요? <span class="text-red-600 font-bold text-sm ml-1">(여러개 선택 가능)</span><br><span class="text-indigo-600 font-bold text-base mt-3 block bg-indigo-50 p-2 rounded border border-indigo-100">[굉장히 중요한 내용입니다. 신중하게 대답해 주시기 바랍니다.]</span>',
                options: [
                    '평소 땀이 (남들보다) 많이 나는 편이다.', 
                    '남들과 비슷한 정도로 땀이 나는 편이다.', 
                    '남들보다 땀이 많이 안 나는 편이다.', 
                    '아무리 더워도, 운동해도 땀이 거의 안 나는 편이다.'
                ]
            },
            3: {
                key: 'sweatFeeling',
                question: '땀이 나면 어떤가요? <span class="text-red-600 font-bold text-sm ml-1">(여러개 선택 가능)</span><br><span class="text-indigo-600 font-bold text-base mt-3 block bg-indigo-50 p-2 rounded border border-indigo-100">[굉장히 중요한 내용입니다. 신중하게 대답해 주시기 바랍니다.]</span>',
                options: [
                    '땀이 거의 나지 않는데, 땀이 조금만 나도 피곤하고 지친다.',
                    '땀이 약간 나는 정도는 크게 문제 없지만, 많이 나면 피곤하고 지친다.',
                    '땀이 약간 나면 컨디션이 좋고 깨운하다.',
                    '땀이 나면 컨디션이 좋아서 일부러 사우나를 하거나 땀을 빼기도 한다.',
                    '기타'
                ]
            },
            4: {
                key: 'sweetFood',
                question: '단 음식이나 사탕을 먹으면 어떤가요? <span class="text-red-600 font-bold text-sm ml-1">(여러개 선택 가능)</span>',
                options: [
                    '단 음식이나 사탕을 먹으면 기분이 좋고, 기운이 나는 것 같다.', 
                    '단 음식이나 사탕을 별로 좋아하지 않아서 안 먹어서 잘 모르겠다.', 
                    '단 음식이나 사탕을 먹어도 아무런 느낌이 없다.', 
                    '단 음식이나 사탕을 먹으면 어지럽거나 메슥거리고 컨디션이 좋지 않다.',
                    '기타'
                ]
            },
            5: { 
                key: 'footSize',
                question: '평소 신는 운동화 사이즈가 어떻게 되나요? <span class="text-red-600 font-bold text-sm ml-1">(여러개 선택 가능)</span>',
                options: [
                    '같은 키의 사람들과 비교해서 발이 평균이다.', 
                    '같은 키의 사람들과 비교해서 발이 작은 편이다.', 
                    '같은 키의 사람들과 비교해서 발이 큰 편이다.',
                    '잘 모르겠다'
                ]
            },
            6: { 
                key: 'beef',
                question: '소고기를 먹었을 때 어떤가요? <span class="text-red-600 font-bold text-sm ml-1">(여러개 선택 가능)</span>',
                options: [
                    '소고기를 먹으면 기운이 나고, 컨디션이 좋은 것 같다.', 
                    '소고기를 먹어도 잘 모르겠다.', 
                    '소고기를 먹으면 체하거나 설사를 하거나 속이 불편하다.', 
                    '소고기를 거의 안 먹어서 잘 모르겠다.',
                    '기타'
                ]
            },
            7: { 
                key: 'redBeansStickyRice',
                question: '팥이나 찹쌀을 먹었을 때 어떤가요? <span class="text-red-600 font-bold text-sm ml-1">(여러개 선택 가능)</span><br><span class="text-indigo-600 font-bold text-base mt-3 block bg-indigo-50 p-2 rounded border border-indigo-100">[굉장히 중요한 내용입니다. 신중하게 대답해 주시기 바랍니다.]</span>',
                options: [
                    '팥(팥떡, 팥죽, 팥빵 등)을 먹으면 생목이 올라오거나 속이 쓰리다.', 
                    '팥을 먹어도 크게 불편하지 않고, 소화가 잘된다.', 
                    '찰밥이나 찹쌀떡을 먹으면 생목이 올라오거나 속이 쓰리다.', 
                    '찰밥이나 찹쌀떡을 먹으면 소화가 안되고 오랫동안 그득한 느낌이다.', 
                    '찰밥이나 찹쌀떡을 먹어도 전혀 불편하지 않다.', 
                    '소화가 안될 때 찹쌀죽을 먹으면 속이 편해지는 것 같다.', 
                    '기타'
                ]
            },
            8: { 
                key: 'mackerel',
                question: '고등어를 먹었을 때 어떤가요? <span class="text-red-600 font-bold text-sm ml-1">(여러개 선택 가능)</span>',
                options: [
                    '고등어를 먹으면 생목이 올라오고, 속이 불편하다.', 
                    '고등어 먹어도 아무런 불편이 없다.', 
                    '고등어 먹고 피부병이나 배탈이 난 적이 있다.', 
                    '고등어를 먹지 않아서 잘 모르겠다.',
                    '기타'
                ]
            },
            9: { 
                key: 'indigestion',
                question: '체했을 때 증상은 어떤가요? <span class="text-red-600 font-bold text-sm ml-1">(여러개 선택 가능)</span>',
                options: [
                    '체하면 명치 부위가 막힌 것 같고 답답하다.', 
                    '체하면 명치 부위가 쓰리다.',
                    '체하면 머리가 아프다.',
                    '거의 체하지 않아서 체한 느낌을 잘 모르겠다.',
                    '기타'
                ]
            }
        };

        const mainContent = document.getElementById('main-content');
        const progressIndicator = document.getElementById('progress-indicator');
        const progressText = document.getElementById('progress-text');

        // --- 2. 페이지 이동 및 유틸리티 ---
        function goToPage(pageNumber) {
            if (pageNumber < 1 || pageNumber > totalPages) return;
            currentPage = pageNumber;
            renderPage();
            window.scrollTo(0, 0); 
        }

        function updateProgress() {
            let calcPage = currentPage > 10 ? 10 : currentPage;
            const progress = Math.min(100, ((calcPage - 1) / (10 - 1)) * 100);
            progressIndicator.style.width = `${progress}%`;
            
            if (currentPage > 10) {
                 progressText.textContent = `상세 정보 확인 중`;
            } else {
                 progressText.textContent = `진단 진행: ${currentPage} / 10 페이지`;
            }
        }

        function getSelectedText(dataArray, options) {
            if (!dataArray || dataArray.length === 0) return '선택 안 됨';
            return dataArray.map(value => options[value - 1]).join(' / ');
        }

        // --- 3. 렌더링 함수들 ---

        // [1단계] 기본 정보 입력 페이지
        function renderPage1() {
            mainContent.innerHTML = `
                <h2 class="text-2xl font-semibold text-gray-800 mb-6">1단계: 기본 정보 입력</h2>
                <form id="p1-form" class="space-y-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">키 (cm)</label>
                        <input type="number" id="height" value="${diagnosisData.height || ''}" min="100" max="250" placeholder="예: 175" class="w-full p-3 border border-gray-300 rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">체중 (kg)</label>
                        <input type="number" id="weight" value="${diagnosisData.weight || ''}" min="30" max="300" placeholder="예: 68" class="w-full p-3 border border-gray-300 rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">나이</label>
                        <input type="number" id="age" value="${diagnosisData.age || ''}" min="1" max="150" placeholder="예: 35" class="w-full p-3 border border-gray-300 rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">성별</label>
                        <div class="flex space-x-4">
                            <button type="button" onclick="handleGenderClick('Male')" class="flex-1 py-3 px-4 rounded-lg border ${diagnosisData.gender === 'Male' ? 'bg-blue-500 text-white shadow-md' : 'bg-white text-gray-700'}">남성</button>
                            <button type="button" onclick="handleGenderClick('Female')" class="flex-1 py-3 px-4 rounded-lg border ${diagnosisData.gender === 'Female' ? 'bg-blue-500 text-white shadow-md' : 'bg-white text-gray-700'}">여성</button>
                        </div>
                    </div>
                    <div class="pt-4">
                        <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg shadow-lg transition duration-200">다음 질문으로</button>
                    </div>
                </form>
                <div id="p1-error" class="text-red-500 mt-3 text-center text-sm hidden">모든 정보를 올바르게 입력해주세요.</div>
            `;
            document.getElementById('p1-form').addEventListener('submit', handleP1Submit);
        }

        function handleGenderClick(gender) {
            saveP1Inputs();
            diagnosisData.gender = gender;
            renderPage1();
        }

        function saveP1Inputs() {
            const h = document.getElementById('height').value;
            const w = document.getElementById('weight').value;
            const a = document.getElementById('age').value;
            if(h) diagnosisData.height = h;
            if(w) diagnosisData.weight = w;
            if(a) diagnosisData.age = a;
        }

        function handleP1Submit(e) {
            e.preventDefault();
            saveP1Inputs();
            if (diagnosisData.height && diagnosisData.weight && diagnosisData.age && diagnosisData.gender) {
                goToPage(2);
            } else {
                document.getElementById('p1-error').classList.remove('hidden');
            }
        }

        // [2~9단계] 공통 질문 페이지 렌더러
        function renderQuestionPage(pageNum) {
            const data = QUESTION_DATA[pageNum];
            
            const optionsHtml = data.options.map((text, index) => {
                const value = index + 1;
                const isSelected = diagnosisData[data.key].includes(value);
                return `
                    <button type="button" onclick="handleOptionSelect('${data.key}', ${value})"
                        class="w-full text-left p-4 border rounded-xl transition duration-200 shadow-sm mb-3
                        ${isSelected ? 'bg-emerald-500 text-white border-emerald-600 ring-4 ring-emerald-200' : 'bg-white text-gray-800 border-gray-200 hover:bg-gray-50'}">
                        <span class="font-semibold text-lg mr-2">${value}.</span> ${text}
                    </button>
                `;
            }).join('');

            mainContent.innerHTML = `
                <h2 class="text-2xl font-semibold text-gray-800 mb-6">${pageNum}단계 문진</h2>
                <div class="text-lg font-medium text-gray-700 mb-6 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-lg">
                    ${data.question}
                </div>
                <div class="flex flex-col">${optionsHtml}</div>
                <div class="flex space-x-4 pt-8">
                    <button onclick="goToPage(${pageNum - 1})" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 rounded-lg transition duration-200">이전 단계로</button>
                    <button onclick="goToPage(${pageNum + 1})" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg transition duration-200 shadow-lg">${pageNum === 9 ? '결과 보기' : '다음 질문으로'}</button>
                </div>
            `;
        }

        function handleOptionSelect(key, value) {
            const arr = diagnosisData[key];
            const index = arr.indexOf(value);
            if (index > -1) arr.splice(index, 1);
            else arr.push(value);
            diagnosisData[key] = arr.sort((a, b) => a - b);
            renderPage(); 
        }

        // [10단계] 결과 페이지
        function renderResultPage() {
            const { sweat, sweatFeeling, sweetFood, footSize, beef, redBeansStickyRice, mackerel, indigestion } = diagnosisData;
            
            const moSet = new Set(['목양', '목음']);
            const geumSet = new Set(['금양', '금음']);
            const toSet = new Set(['토양', '토음']);
            const suSet = new Set(['수양', '수음']);
            
            const motoSet = new Set(['목양', '목음', '토양', '토음']);
            const mosuSet = new Set(['목양', '목음', '수양', '수음']);

            let combinedConstitutions = new Set();
            let ruleApplied = false; 
            const union = (setA, setB) => new Set([...setA, ...setB]);
            const intersect = (setA, setB) => new Set([...setA].filter(x => setB.has(x)));
            
            // --- 1. 기본 누적 로직 ---

            // 2단계 (땀): 1,2번 -> 목양, 목음, 토양, 토음
            if (sweat.includes(1) || sweat.includes(2)) {
                combinedConstitutions = union(combinedConstitutions, motoSet);
                ruleApplied = true;
            }

            // 3단계 (땀 기분): 3,4번 -> 목양, 목음, 토양, 토음
            if (sweatFeeling.includes(3) || sweatFeeling.includes(4)) {
                combinedConstitutions = union(combinedConstitutions, motoSet);
                ruleApplied = true;
            }

            // 4단계 (단 음식): 4번 선택 + 3단계(1 or 2) -> 금양, 금음
            if (sweetFood.includes(4)) {
                if (sweatFeeling.includes(1) || sweatFeeling.includes(2)) {
                    combinedConstitutions = union(combinedConstitutions, geumSet);
                    ruleApplied = true;
                }
            }
            
            // 5단계 (발) 2 선택 시 금양, 금음
            if (footSize.includes(2)) {
                 combinedConstitutions = union(combinedConstitutions, geumSet);
                 ruleApplied = true;
            }

            // 7단계 (팥): 3번 선택하고 다른 항목도 선택 시 -> 목양, 목음 추가
            if (redBeansStickyRice.includes(3)) {
                const hasOthers = redBeansStickyRice.some(v => v !== 3 && v !== 2);
                if (hasOthers) {
                    combinedConstitutions = union(combinedConstitutions, moSet);
                    ruleApplied = true;
                }
            }
            // 7단계 1번
            if (redBeansStickyRice.includes(1)) {
                combinedConstitutions = union(combinedConstitutions, mosuSet);
                ruleApplied = true;
            }
            
            // 9단계 1번 -> 토양, 토음 / 2번 복합 -> 목양, 목음
             if (indigestion.includes(1)) {
                combinedConstitutions = union(combinedConstitutions, toSet);
                ruleApplied = true;
            }
             if (indigestion.includes(2) && indigestion.length > 1) {
                combinedConstitutions = union(combinedConstitutions, moSet);
                ruleApplied = true;
            }

            // --- 2. 덮어쓰기 로직 ---
            let finalSet = combinedConstitutions;

            // [6단계] 1번 선택 시 -> 무조건 목양, 목음
            if (beef.includes(1)) {
                finalSet = moSet;
                ruleApplied = true;
            }

            // [7단계] 3번만 OR 3번+2번만 선택 시 -> 무조건 토양, 토음
            if (redBeansStickyRice.includes(3)) {
                const remaining = redBeansStickyRice.filter(v => v !== 3 && v !== 2);
                if (remaining.length === 0) {
                    finalSet = toSet;
                    ruleApplied = true;
                }
            }

            // [8단계 복합] 8단계 1번 + 7단계 6번 + 3단계 (1 or 2) -> 무조건 목양, 목음, 수양, 수음
            if (mackerel.includes(1) && redBeansStickyRice.includes(6)) {
                if (sweatFeeling.includes(1) || sweatFeeling.includes(2)) {
                    finalSet = mosuSet;
                    ruleApplied = true;
                }
            }
            
            // ----------------------------------------
            
            let result = {};
            const finalConstitutions = finalSet;

            const woodPresent = intersect(finalConstitutions, moSet).size > 0;
            const metalPresent = intersect(finalConstitutions, geumSet).size > 0;
            const earthPresent = intersect(finalConstitutions, toSet).size > 0;
            const waterPresent = intersect(finalConstitutions, suSet).size > 0;

            let isConflict = false;
            let conflictType = '';

            if (woodPresent && metalPresent) {
                isConflict = true;
                conflictType = '목(木) vs 금(金)';
            } else if (earthPresent && waterPresent) {
                isConflict = true;
                conflictType = '토(土) vs 수(水)';
            }
            
            if (isConflict) {
                result = { 
                    constitution: "판단 불가 (정보 모순)", 
                    description: `선택하신 문진 항목에서 근본적으로 상충하는 체질군(${conflictType})이 동시에 도출되었습니다. 입력 정보를 다시 확인해 주세요.`, 
                    color: "bg-red-100 text-red-800 border-red-200" 
                };
            } else if (!ruleApplied && finalConstitutions.size === 0) {
                 result = { 
                     constitution: "정밀 진단 필요", 
                     description: "체질을 추정할 수 있는 문진 정보가 부족합니다. 답변에 따라 체질이 추정됩니다.", 
                     color: "bg-blue-100 text-blue-800 border-blue-200" 
                 };
            } else {
                const possibleList = Array.from(finalConstitutions).sort().join(', ');
                const conclusionText = finalConstitutions.size === 1 
                    ? "추정 체질은 " + possibleList + "입니다."
                    : "추정 가능한 체질은 " + possibleList + "일 가능성이 높습니다.";

                result = { 
                    constitution: possibleList, 
                    description: `${conclusionText} 좀 더 정확한 진단 위해서는 8체질 전문 한의원에 내원, 치료가 필요합니다.`, 
                    color: "bg-green-100 text-green-800 border-green-200" 
                };
            }

            const cleanQuestionText = (html) => html.replace(/<span.*<\/span>/g, '').replace(/<br>/g, ' ').replace(/\[.*\]/g, '');

            const summaryHtml = (key, opts) => {
                const qData = QUESTION_DATA[Object.keys(QUESTION_DATA).find(k => QUESTION_DATA[k].key === key)];
                const questionTitle = cleanQuestionText(qData.question);
                const selected = getSelectedText(diagnosisData[key], opts);
                return `
                    <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                        <h4 class="text-lg font-semibold text-gray-700 mb-2 border-b pb-2">${questionTitle}</h4>
                        <p class="font-medium text-gray-800">${selected}</p>
                    </div>`;
            };

            // 상세 페이지 버튼 생성 로직
            let extraButtons = '';
            
            // 1. 목양/목음
            if (finalConstitutions.has('목양') || finalConstitutions.has('목음')) {
                extraButtons += `
                    <button onclick="goToPage(11)" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 rounded-lg shadow-md transition duration-200 mb-3">
                        목양, 목음체질에 대해서
                    </button>`;
            }
            
            // 2. 토양/토음
            if (finalConstitutions.has('토양') || finalConstitutions.has('토음')) {
                extraButtons += `
                    <button onclick="goToPage(12)" class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 rounded-lg shadow-md transition duration-200 mb-3">
                        토양, 토음체질에 대해서
                    </button>`;
            }

            // 3. 금양/금음
            if (finalConstitutions.has('금양') || finalConstitutions.has('금음')) {
                extraButtons += `
                    <button onclick="goToPage(13)" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 rounded-lg shadow-md transition duration-200 mb-3">
                        금양, 금음체질에 대해서
                    </button>`;
            }

            // 4. 수양/수음
            if (finalConstitutions.has('수양') || finalConstitutions.has('수음')) {
                extraButtons += `
                    <button onclick="goToPage(14)" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 rounded-lg shadow-md transition duration-200 mb-3">
                        수양, 수음체질에 대해서
                    </button>`;
            }

            mainContent.innerHTML = `
                <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">10단계: 진단 결과 요약</h2>
                
                <div class="p-6 rounded-xl shadow-xl border-t-4 border-indigo-600 bg-white mb-8 text-center">
                    <h3 class="text-2xl font-bold text-indigo-600 mb-4 flex items-center justify-center">
                         <svg class="w-7 h-7 mr-2" fill="none" stroke="currentColor" viewBox="0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.24A10 10 112 12h16.897"></path></svg>
                        추정 체질
                    </h3>
                    <div class="p-4 ${result.color} border rounded-lg">
                        <p class="text-xl font-extrabold">${result.constitution}</p>
                        <p class="text-sm mt-2">${result.description}</p>
                    </div>
                </div>

                <div class="space-y-4">
                    <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                        <h4 class="text-lg font-semibold text-gray-700 mb-2 border-b pb-2">1. 기본 정보</h4>
                        <ul class="text-gray-700 list-disc list-inside">
                            <li>키: ${diagnosisData.height}cm</li> 
                            <li>체중: ${diagnosisData.weight}kg</li>
                            <li>나이: ${diagnosisData.age}세</li>
                            <li>성별: ${diagnosisData.gender === 'Male' ? '남성' : '여성'}</li>
                        </ul>
                    </div>
                    ${summaryHtml('sweat', QUESTION_DATA[2].options)}
                    ${summaryHtml('sweatFeeling', QUESTION_DATA[3].options)}
                    ${summaryHtml('sweetFood', QUESTION_DATA[4].options)}
                    ${summaryHtml('footSize', QUESTION_DATA[5].options)}
                    ${summaryHtml('beef', QUESTION_DATA[6].options)}
                    ${summaryHtml('redBeansStickyRice', QUESTION_DATA[7].options)}
                    ${summaryHtml('mackerel', QUESTION_DATA[8].options)}
                    ${summaryHtml('indigestion', QUESTION_DATA[9].options)}
                </div>

                <div class="pt-10">
                    ${extraButtons}
                    <button onclick="goToPage(1)" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-lg shadow-lg transition duration-200">새로운 진단 시작</button>
                </div>
            `;
        }

        // [11, 12, 13, 14 단계] 상세 설명 페이지
        function renderDetailPage(pageNum) {
            let title = "";
            let content = "";
            let borderColor = "";

            if (pageNum === 11) {
                title = "목양, 목음체질에 대해서";
                borderColor = "border-emerald-500";
                content = `
                    <p><strong>목양, 목음체질은 육식을 해야하는 체질입니다.</strong><br> 
                    특히 <span class="text-red-600 font-bold">소고기가 최고로 유익한 음식</span>인 체질입니다. <br>
                    채식보다는(탄수화물을 포함해서) 육식위주의 식사를 해야합니다. <br>
                    다만, 근채류(무우, 도라지, 연근, 비트, 콜라비 등의 뿌리채소)는 적당히 먹으면 좋습니다. <br>
                    목양, 목음체질에 있어서 소고기는 100점짜리입니다. <br>
                    닭고기와 돼지고기 등은 먹어도 되지만 점수가 많이 높다고 할 수는 없습니다.</p>
                    
                    <p>목양, 목음체질은 <span class="text-red-600 font-bold">잎채소(특히 배추, 상추, 양배추, 양상추, 쌈채소, 고사리, 청경채 등)는 굉장히 좋지 않습니다. 생선류와 해물류도 굉장히 좋지 않습니다.  잎채소와 생선류, 해물류는 절대적으로 삼가는 것이 좋습니다.</span></p>
                    
                    <p>결론적으로 목양, 목음체질은 <span class="text-red-600 font-bold">소고기 위주의 저탄고지 방법이나 카니보어 다이어트가 잘 맞는 체질입니다. 만성적인 질병이나 희귀질병, 혹은 알레르기 비염, 천식 등의 질환을 앓고 있는 목양, 목음체질은 소고기 위주의 저탄고지, 카니보어 다이어트를 하면 기존 의학의 치료효과를 뛰어넘는 엄청난 효과</span>를 볼 수도 있습니다.</p>
                `;
            } else if (pageNum === 12) {
                title = "토양, 토음체질에 대해서";
                borderColor = "border-orange-500";
                content = `
                    <p><strong>토양, 토음체질은 돼지고기 위주의 육식을 해야하는 체질입니다.</strong><br>
                    특히 <span class="text-red-600 font-bold">돼지고기가 최고로 유익한 음식</span>인 체질입니다.<br>  
                    <span class="text-red-600 font-bold">채식보다는(탄수화물을 포함해서) 육식위주(돼지고기, 생선류, 해물류)의 식사</span>를 해야합니다. <br>
                    토양, 토음체질에 있어서 돼지고기는 100점짜리입니다.</p>
                    
                    <p>소고기는 먹어도 되지만 점수가 많이 높다고 할 수는 없습니다. <br>
                    단, <span class="text-red-600 font-bold">닭고기, 오리고기, 흑염소는 해로운 음식</span>입니다.<br>
                    <span class="text-red-600 font-bold">생선이나 해물 등은 좋은 음식</span>입니다.</p>
                    
                    <p>토양,토음체질은 위장에 열이 많아서 <span class="text-red-600 font-bold">닭고기, 오리고기, 흑염소, 계란 등의 열이 많은 음식과 맵고 자극적인 음식(생강, 고추, 겨자, 후추 등)은 굉장히 해로운 음식</span>입니다. <br>
                    그리고 소화 기능을 도와준다고 알려진 <span class="text-red-600 font-bold">현미, 찹쌀도 굉장히 해로운 음식</span>입니다. <br>
                    하지만, 위장의 열을 내려주는 <span class="text-red-600 font-bold">보리는 굉장히 유익한 음식</span>입니다.</p>
                `;
            } else if (pageNum === 13) {
                // 금양, 금음 체질
                title = "금양, 금음체질에 대해서";
                borderColor = "border-yellow-500";
                content = `
                    <p><strong><span class="text-red-600 font-bold">금양, 금음체질은 생선류와 해물류가 보약인 체질</span>입니다.</strong><br> 
                    보통 보약으로 알려진 <span class="text-red-600 font-bold">소고기가 최고로 해로운 음식</span>인 체질입니다. <br>
                    소고기, 닭고기, 오리고기, 돼지고기 등의 육고기가 해로운 체질입니다. <br>
                    다만 돼지고기는 아주 가끔 먹을 수는 있습니다. <br>
                    밀가루 음식도 굉장히 해롭고, 설탕같은 단 음식도 굉장히 해롭습니다. <br>
                    <span class="text-red-600 font-bold">금이 해로워서 금니나 금반지, 귀걸이나 목걸이 등 금으로 몸을 장식하면 몸에 해롭습니다.</span></p>
                    
                    <p>잎채소(배추, 상추, 양배추, 양상추, 고사리, 청경채 등의 채소)는 적당히 먹으면 좋습니다. <br>
                    뿌리채소(무우, 도라지, 연근, 콜라비, 비트 등의 근채류)는 해롭습니다.</p>
                    
                    <p>몸이 안 좋으면 땀이 나고, 땀이 나면 기운이 빠지고 체력이 떨어집니다. <br>
                    <span class="text-red-600 font-bold">땀이 안나는 것이 좋고, 일부러 사우나를 하거나 땀을 빼는 것은 굉장히 해롭습니다.</span></p>
                    
                    <p>생선류와 해물류가 보약인 체질이여서 오메가3가 굉장히 보약인 체질입니다.</p>
                    
                    <p>결론적으로 금양, 금음체질은 일반적인 상식에서 벗어나서 <span class="text-red-600 font-bold">소고기 등의 육류가 절대적으로 해롭고, 생선류와 해물류가 보약인 체질</span>입니다. <span class="text-red-600 font-bold">땀이 나지 않도록 관리</span>하는 것도 중요합니다.</p>
                `;
            } else if (pageNum === 14) {
                // 수양, 수음 체질
                title = "수양, 수음체질에 대해서";
                borderColor = "border-sky-600";
                content = `
                    <p><strong>수양, 수음체질은 육식을 해야하는 체질입니다.</strong><br>
                    특히 <span class="text-red-600 font-bold">닭고기가 최고로 유익한 음식</span>인 체질입니다. <br>
                    근채류(무우, 도라지, 연근, 비트, 콜라비 등의 뿌리채소)는 적당히 먹으면 좋습니다. <br>
                    수양, 수음체질에 있어서 닭고기는 100점짜리입니다. <br>
                    닭고기와 소고기는 먹어도 되지만 <span class="text-red-600 font-bold">위장이 냉하여 돼지고기와 보리는 절대적으로 삼가</span>해야 합니다.</p>
                    
                    <p>수양, 수음체질은 잎채소(특히 배추, 상추, 양배추, 양상추, 쌈채소, 고사리, 청경채 등)는 굉장히 좋지 않습니다. 생선류와 해물류도 굉장히 좋지 않습니다. 잎채소와 생선류, 해물류는 절대적으로 삼가는 것이 좋습니다.</p>
                    
                    <p>결론적으로 수양, 수음체질은 <span class="text-red-600 font-bold">닭고기와 소고기 위주의 육식과 뿌리채소 위주의 식단이 좋은 체질</span>입니다. 만성적인 위하수나 위장병을 가지고 있을 가능성이 높고, <span class="text-red-600 font-bold">위장을 따뜻하게 해주는 음식인 닭고기, 찰밥 등을 자주 먹는 것이 건강에 도움</span>이 됩니다.</p>
                `;
            }

            mainContent.innerHTML = `
                <h2 class="text-2xl font-bold text-gray-800 mb-6">${title}</h2>
                <div class="content-text bg-white p-6 rounded-lg border-l-4 ${borderColor} shadow-sm text-gray-700 text-lg">
                    ${content}
                </div>
                <div class="pt-8 space-y-3">
                    <button onclick="goToPage(10)" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 rounded-lg shadow transition duration-200">결과 화면으로 돌아가기</button>
                    <button onclick="goToPage(1)" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-lg shadow transition duration-200">새로운 진단 시작</button>
                </div>
            `;
        }

        // --- 메인 컨트롤러 ---
        function renderPage() {
            if (currentPage === 1) renderPage1();
            else if (currentPage >= 2 && currentPage <= 9) renderQuestionPage(currentPage);
            else if (currentPage === 10) renderResultPage();
            else if (currentPage >= 11 && currentPage <= 14) renderDetailPage(currentPage);
            
            updateProgress();
        }

        // 앱 시작
        document.addEventListener('DOMContentLoaded', renderPage);

    </script>
</body>
</html>